# Semantic Release — інструкція користування

У цьому проекті використовується [Semantic Release](https://semantic-release.gitbook.io/semantic-release/) для автоматичного управління версіями, генерації changelog та публікації релізів.

---

## Що це дає?

- Автоматичне оновлення версії пакету згідно з [Semantic Versioning](https://semver.org/)
- Генерація файлу `CHANGELOG.md` з описом змін
- Автоматичні релізи при мерджі в основну гілку (`master`)
- Контроль якості повідомлень комітів через Conventional Commits

---

## Як писати повідомлення комітів?

Повідомлення комітів мають бути у форматі [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/):

<type>[optional scope]: <description>

[optional body]

[optional footer(s)]

### Типи комітів, які підтримуються:

- `feat`: нова функціональність
- `fix`: виправлення багу
- `docs`: зміни в документації
- `style`: форматування коду (пробіли, крапки, тощо)
- `refactor`: зміни в коді, які не впливають на функціонал
- `perf`: покращення продуктивності
- `test`: додавання або оновлення тестів
- `chore`: допоміжні зміни (наприклад, скрипти, конфігурації)
- `BREAKING CHANGE`: зміни, що ламають сумісність (йдуть в футері коміта)

---

### Приклади комітів:

feat(auth): додати підтримку OAuth2

fix(api): виправити помилку в обробці помилок

chore: оновити залежності

perf(db): оптимізувати запити до БД

docs: оновити README

---

## Як робити реліз?

1. Пиши коміти відповідно до Conventional Commits.

2. Зроби пуш змін у гілку `master`.

3. В CI/CD (GitHub Actions) автоматично запуститься процес релізу:

- проаналізує коміти, визначить нову версію (major, minor, patch),
- оновить `package.json` з новою версією,
- згенерує або оновить `CHANGELOG.md`,
- створить git тег і зробить реліз (наприклад, на GitHub Releases).

---

## Локальний запуск релізу (для тестування)

```bash
npm run release
```

### Підказки
Використовуйте git commit або інтеграції з commitizen / IDE, щоб правильно формувати повідомлення комітів.

Якщо коміт не відповідає Conventional Commits, git-hook через husky не дозволить його зробити.

Реліз відбувається лише для гілки master.